# Config

The Grid has different config files depending on the service and usage e.g. the Guardian or BBC-specific features.
[`GridConfigLoader.scala`](https://github.com/guardian/grid/blob/main/common-lib/src/main/scala/com/gu/mediaservice/lib/config/GridConfigLoader.scala) loads the configs, which get parsed and turned into a tree of config by a function in this library (https://github.com/lightbend/config) which will recursively merge the trees.

#### [`application.conf`](https://github.com/guardian/grid/blob/3fb1d936f82a0cd02a2a3c4293b680f7f8f5caf5/common-lib/src/main/resources/application.conf)

The file lists configs that every user and service should have. This file should provide good defaults for grid features where required. This file has the lowest priority and keys will be overridden if set in other files.

### Other config files

Other config files will be read from `$HOME/.grid/` (when running locally) or `/etc/grid` (when deployed, as determined by the contents of `/etc/grid/stage`).
For local development, files will be generated by the [generate-config script](/dev/script/generate-config). It is up to the implementor to determine how to load config files onto deployed instances - we at the Guardian currently fetch files from S3 in a [UserData script](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html).
 
This file will be packaged by sbt-native-packager, available once installed on the destination instance and automatically loaded by Play.

> **Note**
> Currently this is the only file that is loaded at Play's first initialisation. Some play settings will only take effect if set in this file.

#### `<configRoot>/<stage>/common.conf`
Anything that's specific to an organisation and to a stage, but is common across all the services. Keys set here will override those set in `application.conf` but be overridden by the service-specific configs.

#### `<configRoot>/<stage>/<service>.conf`
Service-specific configs. These will override all other config files.

[Documentation](https://docs.google.com/document/d/1CSERbLwbu6nT_ggzzYxdUt9IHpfGUJLIYPnU_9MZbpc/edit) on the existing Grid config options 

## Config documentation

### Common configuration

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>auth.useLocal</code><br>If true, the AWS client will be configured to be localstack aware <br>Only used in The Guardian’s PermissionsAuthorisationProvider and PandaAuthenticationProvider</td>
    <td>True (not needed if using another authentication + authorisation providers)</td>
    <td>boolean</td>
    <td>false</td>
  </tr>
  <tr>
    <td><code>panda.userDomain</code><br>Used only in The Guardian’s PandaAuthenticationProvider</td>
    <td>True (not needed if using another authentication provider)</td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td><code>panda.bucketName</code><br>The AWS S3 bucket name that contains <br>Used only in The Guardian’s PandaAuthenticationProvider.</td>
    <td>True (not needed if using another authentication provider)</td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td><code>permissions.bucket</code><br>The AWS S3 bucket name used in The Guardian’s PermissionsProvider</td>
    <td>True (not needed if using another authorisation provider)</td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td><code>image.record.download</code><br>When true any downloads are recorded as usages and usage@platform:download filter appears in the UI.</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td><code>useReaper</code><br>Is reaper (image deletion service) supported?</td>
    <td>True</td>
    <td>boolean</td>
    <td></td>
  </tr>
</tbody>
</table>

#### Admin tools service 

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td>False</td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td>url</td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td>False</td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td>False</td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td>False</td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td>False</td>
    <td>string</td>
    <td></td>
  </tr>
</tbody>
</table>

### Auth Service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td>False</td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.config.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td>string</td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td>boolean</td>
    <td></td>
  </tr>
</tbody>
</table>

### Collections service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.collections.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.table.collections</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.table.imageCollections</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>

### Cropper Service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>publishing.image.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>publishing.image.host</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.config.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>

### Image Loader service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.image.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.thumb.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.quarantine.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.config.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.table.upload.status</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>transcoded.mime.types</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>upload.quarantine.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>

### Kahuna service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.image.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.thumb.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.quarantine.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.config.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.table.upload.status</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>transcoded.mime.types</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>upload.quarantine.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>

### Leases service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.tablename.leasesTable</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>

### Media API service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.image.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.thumb.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.config.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.usagemail.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>persistence.identifier</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es6.url</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es6.cluster</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es6.shards</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es6.replicas</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>quota.store.key</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>

### Metadata editor service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.collections.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.table.edits</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.globalsecondaryindex.edits.photoshoots</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.table.syndication</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>indexed.images.sqs.queue.url</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>

### S3 watcher

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>loader.uri</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>auth.key.s3watcher</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.ingest.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.fail.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>

### Thrall service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.image.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>s3.thumb.bucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>persistence.identifier</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>indexed.image.sns.topic.arn</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es6.url</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es6.cluster</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es6.shard</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es6.replicas</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.projection.parallelism</td>
    <td>yes</td>
    <td>int</td>
    <td>1</td>
  </tr>
</tbody>
</table>

### Usage service

<table>
<thead>
  <tr>
    <th>Key</th>
    <th>Optional</th>
    <th>Type</th>
    <th>Default</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>domain.root</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>authentication.providers.machine.config.authKeyStoreBucket</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.local.endpoint</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.stream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>thrall.kinesis.lowPriorityStream.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.current</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>es.index.aliases.migration</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>aws.region</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>capi.live.url</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>capi.apiKey</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>dynamo.tablename.usageRecordTable</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>composer.baseUrl</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>crier.live.arn</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>crier.preview.arn</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>crier.preview.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>crier.live.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>app.name</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>security.cors.allowedOrigins</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>metrics.request.enabled</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</tbody>
</table>
