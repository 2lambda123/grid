{
    "defaultStacks": ["media-service"],
    "packages": {
        "lambda": {
            "type": "aws-lambda",
            "data": {
                "functions": {
                    "TEST": {
                        "name": "@TEST_ARN",
                        "filename": "media-service-jenkins-s3watcher.tgz"
                    },
                    "PROD": {
                        "name": "@PROD_ARN",
                        "filename": "media-service-jenkins-s3watcher.tgz"
                    }
                }
            }
        },
        "media-service-jenkins-s3watcher": {
            "type": "aws-s3",
            "data": {
                "bucket": "media-service-dist",
                "cacheControl": "public, max-age=60",
                "publicReadAcl": false
            }
        }
    },
    "recipes": {
        "default": {
            "actions": [ "media-service-jenkins-s3watcher.uploadStaticFiles", "lambda.updateLambda" ]
        }
    }
}
